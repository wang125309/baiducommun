<%@ page contentType="text/html;charset=UTF-8" language="java" %><!DOCTYPE html><html lang="en" ng-app="baidu"><head><meta name="viewport" content="width=device-width,user-scalable=no,user-scalable=0,inital-scale=1.0"><meta http-equiv="Content-Type" content="text/html" charset="utf-8"><meta name="format-detection" content="telephone=no"><script language="javascript" src="http://res.wx.qq.com/open/js/jweixin-1.0.0.js"></script></head></html><title>ä»»åŠ¡è¯¦æƒ…</title><link href="/static/public/css/taskInfo.css" rel="stylesheet" type="text/css"><script src="/static/public/js/taskInfo.min.js" language="javascript"></script><body ng-controller="TaskInfoCtrl" ng-cloak><section id="header" ng-show="submitView==false"><div ng-if="(commun_count&gt;1&amp;&amp;task.data.type==3)||(commun_count&gt;1&amp;&amp;task.data.type==4)" class="check_tab clearfix"><!--div.first(class="{{tab1_active}}",ng-click="showOther()") {{ tab1 }}--><!--div.second(class="{{tab2_active}}",ng-click="showOther()") {{ tab2 }}--><!--div.more(ng-if="commun_count > 2")--><div ng-repeat="i in tab track by $index" class="more-menu"><div ng-if="active==i.num" ng-click="show_other( i.num )" class="commun_names active"> <div ng-if="i.rel==1" class="name"> <span class="tuan">å›¢ </span><span class="name">{{ i.name }}</span></div><div ng-if="i.rel!=1" class="name">{{ i.name }}</div></div><div ng-if="active!=i.num" ng-click="show_other( i.num )" class="commun_names"><div ng-if="i.rel==1" class="name"> <span class="tuan">å›¢ </span><span class="name">{{ i.name }}</span></div><div ng-if="i.rel!=1" class="name">{{ i.name }}</div></div></div></div><div class="right-coner-div"></div><div ng-if="taskState=='å·²é¢†å–'" class="right-coner"><div style="background:url(&quot;/static/public/image/already-receive.png&quot;)" class="stamp"></div></div><div ng-if="taskState=='å·²æäº¤'" class="right-coner"><div style="background:url(&quot;/static/public/image/already-submit.png&quot;)" class="stamp"></div></div><div ng-if="taskState=='å·²é©³å›'" class="right-coner"><div style="background:url(&quot;/static/public/image/already-confuse.png&quot;)" class="stamp"></div></div><div ng-if="taskState=='å·²è¯„å¥–'" class="right-coner"><div src="/static/public/image/already-prize.png" class="stamp"></div><div style="background:url(&quot;/static/public/image/already-prize.png&quot;)" class="stamp"></div></div><div ng-if="taskState=='å·²è¿‡æœŸ'" class="right-coner"><div style="background:url(&quot;/static/public/image/already-expire.png&quot;)" class="stamp"></div></div><div ng-if="taskState=='å·²é€šè¿‡'" class="right-coner"><div style="background:url(&quot;/static/public/image/already-pass.png&quot;)" class="stamp"></div></div><div class="title">{{ task.data.name }}</div><div class="task-info clearfix"><div class="end-time">{{ task.data.endDate }}</div><div ng-if="task.data.type==1" class="line-type clearfix">çº¿ä¸Š</div><div ng-if="task.data.type==3" class="line-type clearfix">çº¿ä¸Š</div><div ng-if="task.data.type==2" class="line-type clearfix">çº¿ä¸‹</div><div ng-if="task.data.type==4" class="line-type clearfix">çº¿ä¸‹</div><div ng-if="task.data.type==3" class="type clearfix">ç¤¾å›¢</div><div ng-if="task.data.type==4" class="type clearfix">ç¤¾å›¢</div><div ng-if="task.data.type==1" class="type clearfix">ä¸ªäºº</div><div ng-if="task.data.type==2" class="type clearfix">ä¸ªäºº</div></div><!--div.banner//img(ng-src="{{ task.data.resourceUrl }}",onerror="this.src='http://placehold.it/375x170'")--><div ng-bind-html="trustHtml()" class="desc"></div><section class="price-bar"><div ng-click="add_fans()" class="right-text clearfix"><div ng-show="like==0" style="background:url('/static/public/image/hot-up-icon.png')" class="hot-icon clearfix"></div><div ng-show="like==1" style="background:url('/static/public/image/hot-up-icon-active.png')" class="hot-icon clearfix"></div><div class="hot-text clearfix">èµ({{ likeNum }})</div></div></section></section><section id="task" ng-if="task.data.prizeData"><span class="green"></span><span>å¥–åŠ±è¯¦æƒ…</span><div class="prize-data"><div ng-repeat="p in task.data.prizeData" class="prize-data-detail clearfix"><div ng-if="p.prizeType==1" class="prize-line">{{ p.prizeLevel }} {{ p.prize }}</div><div ng-if="p.prizeType==2" class="prize-line">{{ p.prizeLevel }} {{ p.prize }}&nbsp;ç§¯åˆ†</div></div></div></section><section class="task-condition"><span class="green"></span><span>ä»»åŠ¡æ¡ä»¶</span><div ng-if="task.data.condition" class="task-text">{{ task.data.condition }}</div><div ng-if="!task.data.condition" class="task-text">æ­è¿å„è·¯ç¥ä»™é¬¼æ€ªğŸ˜Šï¼Œåªè¦ä½ æ•¢æ¥ï¼Œæˆ‘ä»¬å°±æ•¢ç»™ </div></section><section ng-if="taskState=='å·²è¯„å¥–'&amp;&amp;show_task_prize_list" class="score"><div class="prize-icon"></div><span>è·å¥–åˆ—è¡¨</span><div class="score-sheet"><div ng-repeat="m in taskPrizeList.data.list track by $index" class="score-list clearfix"><div class="line clearfix"><div class="prize-icon"></div><div ng-if="m.communityName&amp;&amp;m.prizeScore" class="name">{{ m.communityName }}è·å¾—{{ m.prizeScore }}&nbsp;ç§¯åˆ†</div><div ng-if="m.communityName&amp;&amp;m.prizeName" class="name">{{ m.communityName }}è·å¾—{{ m.prizeName }}</div><div ng-if="m.userName&amp;&amp;m.prizeScore" class="name">{{ m.userName }}è·å¾—{{ m.prizeScore }}&nbsp;ç§¯åˆ†</div><div ng-if="m.userName&amp;&amp;m.prizeName" class="name">{{ m.userName }}è·å¾—{{ m.prizeName }}&nbsp;ç§¯åˆ†</div></div></div></div><div ng-click="prize_show_more()" ng-show="prize_more_show==true" class="show_more">æŸ¥çœ‹æ›´å¤š</div></section><section ng-if="taskState!='å·²è¯„å¥–'&amp;&amp;show_scoreRanking" class="score-apply clearfix"><div class="apply-icon"></div><span>ç”³è¯·åˆ—è¡¨</span><div class="score-list clearfix"><div ng-repeat="m in scoreRanking.data.list track by $index" class="line clearfix"><div ng-if="m.communityName" class="name clearfix">{{ m.communityName }}</div><div ng-if="m.userName" class="name clearfix">{{ m.userName}}</div></div></div><div ng-click="apply_show_more()" ng-show="apply_more_show==true" class="show_more">æŸ¥çœ‹æ›´å¤š</div></section><div class="placehold-footer"></div><div class="bottom-bar"><button ng-show="taskState=='å·²é¢†å–'" class="baidu-btn submit-task grey"><span>ä»»åŠ¡å·²é¢†å–ï¼Œè¯·è€å¿ƒç­‰å€™å®¡æ ¸</span></button><button ng-click="getTask()" ng-if="taskState=='æœªé¢†å–'" class="baidu-btn submit-task"><span>é¢†å–ä»»åŠ¡</span></button><button ng-if="(isWxTask==1&amp;&amp;taskState=='å·²é€šè¿‡')||(isWxTask==1&amp;&amp;taskState=='å·²é€šè¿‡'&amp;&amp;reltype!=0&amp;&amp;reltype!=4)" ng-click="wxForward();" class="baidu-btn submit-task"><span>ç‚¹å‡»è½¬å‘ä»»åŠ¡</span></button><button ng-if="isWxTask==2&amp;&amp;((task.data.type==1&amp;&amp;taskState=='å·²é€šè¿‡')||(task.data.type==3&amp;&amp;taskState=='å·²é€šè¿‡'&amp;&amp;reltype!=0))" ng-click="submitTask();" class="baidu-btn submit-task"><span>{{ submitTextOnline }}</span></button><button ng-click="getQrcode()" ng-if="((task.data.type==4&amp;&amp;taskState=='å·²é€šè¿‡'&amp;&amp;reltype!=0&amp;&amp;reltype!=4)||(task.data.type==2&amp;&amp;taskState=='å·²é€šè¿‡'))&amp;&amp;isWxTask==2" class="baidu-btn submit-task"><span>ç‚¹å‡»è·å–äºŒç»´ç </span></button></div><div ng-show="alert==true" class="alert-menu base {{ alertClass }}"><div class="message">{{ taskMessage }}</div><div ng-click="iknow()" class="know"><a href="javascript:;">æˆ‘çŸ¥é“äº†</a></div></div><div ng-show="submitView==true" class="submit-task-view base pull-up"><div class="add-file"><div class="add-title">æ·»åŠ æ–‡ä»¶</div><div href="javascript:;" ng-click="backTask()" class="pull-right clear back-link">è¿”å›</div><form method="post" id="form" role="form" enctype="multipart/form-data"><div class="add-area"><div ng-repeat="i in previews" style="{{ i.image }}" class="preview"></div><div ng-click="fileAdd()" class="file-add"></div><input hidden name="taskStatusId" value="{{ taskStatusId }}"><input ng-repeat="i in image_files" name="file" type="file" file-upload id="add-image-{{ i }}" class="add-image"></div></form></div><div ng-click="form_submit()" class="submit-btn">{{ submitText }}</div></div></body>